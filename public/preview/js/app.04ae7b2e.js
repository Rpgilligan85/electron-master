(function(t){function e(e){for(var a,r,s=e[0],c=e[1],u=e[2],l=0,p=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},o={app:0},i=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-27dc1c91":"3befc06b","chunk-2d21a3d2":"a0279b1a","chunk-2fe50832":"b52a0d0a","chunk-45b84698":"bef63ae8"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-27dc1c91":1,"chunk-2fe50832":1,"chunk-45b84698":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-27dc1c91":"d746188f","chunk-2d21a3d2":"31d6cfe0","chunk-2fe50832":"826b0150","chunk-45b84698":"10e0f302"}[t]+".css",o=c.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return e()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){u=p[s],l=u.getAttribute("data-href");if(l===a||l===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var a=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],d.parentNode.removeChild(d),n(i)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var p=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",p.name="ChunkLoadError",p.type=a,p.request=r,n[1](p)}o[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var p=0;p<u.length;p++)e(u[p]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"08bc":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("highcharts",{ref:"highcharts",attrs:{options:t.chartOptions()}})},r=[],o=(n("d3b7"),n("5530")),i=n("2f62"),s=(n("5698"),{name:"PieChart",props:["dialogObj"],data:function(){return{chartReady:!1}},computed:Object(o["a"])({},Object(i["e"])({chartData:function(t){return t.charting.chartData}})),methods:Object(o["a"])({},Object(i["b"])({parsePieData:"charting/parsePieData"}),{chartOptions:function(){return{chart:{type:"pie"},title:{text:"Pie Chart"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{data:this.chartData[this.dialogObj.id]}]}}}),watch:{},mounted:function(){this.parsePieData(this.dialogObj).finally((function(){}))}}),c=s,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,null,null);e["default"]=l.exports},1329:function(t,e,n){},1802:function(t,e,n){"use strict";var a=n("659d"),r=n.n(a);r.a},"18f9":function(t,e,n){var a={"./Charts/BarChartStock.vue":"ab24","./Charts/PieChart.vue":"08bc","./Legends/ArcLegend.vue":"58b1","./Legends/Legend.vue":"fc8f","./MapPopups/ArcPopup.vue":"89db","./MapPopups/ClusterPopup.vue":"5726","./MapPopups/MapPopup.vue":"e4cd","./Maps/ComplexMap.vue":"2ca5","./Maps/SimpleMap.vue":"9096","./Maps/StoryMap.vue":"cdcf","./Template/AppFooter.vue":"963a","./Template/AppHeader.vue":"86f6","./Template/AppNav.vue":"9e8b","./Template/Dialog.vue":"3fc8","./Template/Summary.vue":"5fa3","./UI-Other/Test.vue":"a5e8","./UI-Other/TimeSlider.vue":"78b0"};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id="18f9"},"2b4e":function(t,e,n){},"2ca5":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"map"}},[n("LMap",{ref:"map",staticClass:"map",attrs:{minZoom:1,zoom:t.zoom,center:t.center},on:{ready:t.mapReady}},[n("LTileLayer",{attrs:{url:t.url}}),t._l(t.config.ComplexViewer.data,(function(e,a){return[t.config.data[a].style.subProp?[t._l(t.appData.filtered[a],(function(e,r){return t._l(e,(function(e,o){return n("Vue2LeafletMarkerCluster",{key:r+"_"+o,ref:"cluster_"+r+"_"+o,refInFor:!0,attrs:{options:t.stringToMethod(t.config.ComplexViewer.data[a].clusterOptions)}},[n("LGeoJson",{ref:"marker_"+r+"_"+o,refInFor:!0,attrs:{geojson:e,options:t.stringToMethod(t.config.ComplexViewer.data[a].markerOptions)}})],1)}))}))]:t._l(t.appData.filtered[a],(function(e,r){return n("Vue2LeafletMarkerCluster",{key:r,ref:"cluster_"+r,refInFor:!0,attrs:{options:t.stringToMethod(t.config.ComplexViewer.data[a].clusterOptions)}},[n("LGeoJson",{ref:"marker_"+r,refInFor:!0,attrs:{geojson:e,options:t.stringToMethod(t.config.ComplexViewer.data[a].markerOptions)}})],1)}))]}))],2)],1)},r=[],o=(n("99af"),n("4160"),n("c975"),n("d81d"),n("fb6a"),n("b64b"),n("d3b7"),n("25f0"),n("159b"),n("5530")),i=n("2b0e"),s=n("2699"),c=n("a40a"),u=n("4e2b"),l=n("044a"),p=n("ca9f"),d=n.n(p),f=(n("3ac1"),n("f480"),n("e11e")),h=n.n(f),m=n("e4cd"),g=n("5726"),v=n("89db"),b=n("2f62"),_={name:"ComplexMap",components:{LMap:s["a"],LTileLayer:c["a"],LMarker:u["a"],LGeoJson:l["a"],Vue2LeafletMarkerCluster:d.a},data:function(){return{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",zoom:3,center:[47.41322,-1.219482],bounds:null,mapLoaded:!1}},computed:Object(o["a"])({},Object(b["c"])({selectedItems:"legend/selected"}),{},Object(b["e"])({config:function(t){return t.config},appData:function(t){return t.dataLoader.appData},iconObj:function(t){return t.icons.iconObj},legend:function(t){return t.legend.selected},dataUpdated:function(t){return t.timeslider.dataUpdated},legendUpdated:function(t){return t.legend.legendUpdated}}),{clusterOptions:function(){return{maxClusterRadius:30,elementsPlacementStrategy:"original-locations",spiderfyDistanceSurplus:25,spiderfyOnMaxZoom:!1,showCoverageOnHover:!1,zoomToBoundsOnClick:!1,spiderfyDistanceMultiplier:1,iconCreateFunction:this.onEachCluster("sales")}},markerOptions:function(){return{onEachFeature:this.onEachMarker("sales")}},arcOptions:function(){return{onEachFeature:this.styleArcData("arc")}}}),methods:Object(o["a"])({},Object(b["d"])({SET_MAP:"map/SET_MAP",SET_DIALOG_OBJ:"dialog/SET_DIALOG_OBJ"}),{stringToMethod:function(t){return this[t]},mapReady:function(){this.mapLoaded=!0,this.map=this.$refs.map.mapObject,this.SET_MAP(this.map),this.map.invalidateSize()},onEachMarker:function(t){var e=this;return function(n,a){var r=e.config.data.sales.style.subProp?e.iconObj[t][n.properties[e.config.data[t].style.subProp]]:e.iconObj[t][n.properties[e.config.data[t].style.prop]],o=r||e.iconObj.DEFAULT,s=h.a.divIcon({html:'<div\n\t\t\t\t\t\t\tclass="mdi '.concat(o.icon,'"\n\t\t\t\t\t\t\tstyle="color:').concat(o.color,";\n\t\t\t\t\t\t\tfont-size: ").concat(o.size,'"\n\t\t\t\t\t\t</div>')});a.setIcon(s);var c=i["default"].extend(m["default"]),u=new c({propsData:{feature:n,vue:e}});a.on("click",(function(){a._popup||a.bindPopup(u.$mount().$el,{offset:[13,15],className:"gillipop"}).openPopup()}))}},styleArcData:function(t){var e=this;return function(n,a){var r=n.properties.arcIcon,o=h.a.divIcon({html:'<img width="20px" height="20px" src="data:'.concat(r.type,";base64, ").concat(r.icon,'" />\n\t\t\t\t\t\t')});a.setIcon(o);var s=i["default"].extend(v["default"]),c=new s({propsData:{feature:n,vue:e,id:t}});a.on("click",(function(){a._popup||a.bindPopup(c.$mount().$el,{offset:[13,15],className:"gillipop"}).openPopup()}))}},onEachCluster:function(t){var e=this;return function(n){var a=n.getAllChildMarkers(),r=e.config.data.sales.style.subProp?e.iconObj[t][a[0].feature.properties[e.config.data[t].style.subProp]]:e.iconObj[t][a[0].feature.properties[e.config.data[t].style.prop]],o=r||e.iconObj.DEFAULT,s=h.a.divIcon({html:'<div class="cluster-circle" style="background:'.concat(o.color,'";>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="marker mdi ').concat(o.icon,'"\n\t\t\t\t\t\t</div></div>')}),c=i["default"].extend(g["default"]),u=new c({propsData:{children:a,vue:e}});return n.on("click",(function(){n._popup||n.bindPopup(u.$mount().$el,{offset:[8,0],className:"gillipop-cluster"}).openPopup()})),s}},updateDataWithLegend:function(){var t=this;console.log("Legend ",this.legend),console.log("REFS",this.$refs),setTimeout((function(){for(var e in t.$refs)t.$refs[e].length>=1&&"map"!=e&&-1!=e.indexOf("cluster")&&t.$refs[e][0].mapObject.clearLayers();Object.keys(t.legend).forEach((function(e){for(var n in t.legend[e])t.$refs["cluster_".concat(t.legend[e][n])].length>=1&&t.$refs["cluster_".concat(t.legend[e][n])][0].mapObject.addLayers(t.$refs["marker_".concat(t.legend[e][n])][0].mapObject)}))}),1)},LightenDarkenColor:function(t,e){var n=!1;"#"==t[0]&&(t=t.slice(1),n=!0);var a=parseInt(t,16),r=(a>>16)+e;r>255?r=255:r<0&&(r=0);var o=(a>>8&255)+e;o>255?o=255:o<0&&(o=0);var i=(255&a)+e;return i>255?i=255:i<0&&(i=0),(n?"#":"")+(i|o<<8|r<<16).toString(16)}}),watch:{legend:{handler:function(){this.updateDataWithLegend()},deep:!0},dataUpdated:{handler:function(){this.updateDataWithLegend()},deep:!0}}},O=_,y=(n("88b6"),n("2877")),D=Object(y["a"])(O,a,r,!1,null,null,null);e["default"]=D.exports},"32af":function(t,e,n){"use strict";var a=n("6935"),r=n.n(a);r.a},"3fc8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:t.dialogObj.width?t.dialogObj.width:"500px"},on:{"click:outside":function(e){return t.closeDialog()}},model:{value:t.dialogObj.visible,callback:function(e){t.$set(t.dialogObj,"visible",e)},expression:"dialogObj.visible"}},[t.dialogComponent?n(t.dialogComponent,{ref:"globalComponent",tag:"component",attrs:{dialogObj:t.dialogObj}}):t._e()],1)},r=[],o=(n("d81d"),n("13d5"),n("d3b7"),n("ac1f"),n("5319"),n("1276"),n("ddb0"),n("3835")),i=n("5530"),s=n("2f62"),c={name:"Dialog",data:function(){return{dialogComponent:null}},computed:Object(i["a"])({},Object(s["e"])({dialogObj:function(t){return t.dialog.dialogObj}})),methods:Object(i["a"])({},Object(s["d"])({SET_DIALOG_OBJ:"dialog/SET_DIALOG_OBJ"}),{closeDialog:function(){this.SET_DIALOG_OBJ({visible:!1})}}),created:function(){var t=this,e=(this.dialogObj.component.split("/"),n("18f9"));e.keys().map((function(t){return[t.replace(/(^.\/)|(\.vue$)/g,""),e(t)]})).reduce((function(e,n){var a=Object(o["a"])(n,2),r=a[0],i=a[1];r==t.dialogObj.component&&(console.log("comp",i),t.$options.components.comp=i.default,t.dialogComponent="comp")}),{})}},u=c,l=n("2877"),p=Object(l["a"])(u,a,r,!1,null,null,null);e["default"]=p.exports},"525e":function(t,e,n){},"54a9":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.appReady&&t.arcDataLoaded?n("v-app",{attrs:{dark:""}},[t.dialog?n("Dialog"):t._e(),"Home"!=t.currentRoute?n("AppHeader",{attrs:{config:t.config}}):t._e(),n("transition",{attrs:{name:t.transitionName}},[n("keep-alive",{attrs:{max:"5"}},[n("router-view")],1)],1),"Home"!=t.currentRoute?n("AppFooter"):t._e()],1):t._e()},o=[],i=(n("4160"),n("b0c0"),n("b64b"),n("d3b7"),n("159b"),n("5530")),s=n("86f6"),c=n("3fc8"),u=n("963a"),l=n("2f62"),p={components:{AppHeader:s["default"],Dialog:c["default"],AppFooter:u["default"]},name:"App",data:function(){return{appReady:!1,count:0,legend:!0,currentRoute:"Home",myClass:"test",transitionName:"slide",legendOptions:{title:"Sales Legend",component:"Legend",id:"sales"},arcOptions:{title:"Arc Legend",component:"ArcLegend",id:"arc"}}},computed:Object(i["a"])({},Object(l["e"])({config:function(t){return t.config},appData:function(t){return t.dataLoader.appData},dialog:function(t){return t.dialog.dialogObj.visible},arcDataLoaded:function(t){return t.arcgis.arcDataLoaded}})),methods:Object(i["a"])({},Object(l["b"])({loadData:"dataLoader/loadData",createIconObj:"icons/createIconObj"}),{},Object(l["d"])({SET_DIALOG_OBJ:"dialog/SET_DIALOG_OBJ"}),{openPieChart:function(){this.SET_DIALOG_OBJ({component:"PieChart",visible:!0,data:this.appData.geojson.sales,prop:"Payment_Type",id:"pie"})},openBarChart:function(){this.SET_DIALOG_OBJ({component:"BarChartStock",visible:!0,data:this.appData.geojson.sales,prop:"Payment_Type",dateProp:"Transaction_date",id:"bar",width:"800px"})},openTest:function(){this.SET_DIALOG_OBJ({component:"Test",visible:!0,text:"Hi Matt",data:this.appData.geojson.sales})}}),beforeMount:function(){var t=this,e=Object.keys(this.config.data);e.forEach((function(n,a){t.loadData(t.config.data[n]).finally((function(){t.count++,e.length===t.count&&(t.appReady=!0)}))}))},watch:{$route:{handler:function(t,e){console.log("ROUTES",t,e),this.currentRoute=t.name,t.name},deep:!0,immediate:!0}}},d=p,f=(n("5c0b"),n("2877")),h=Object(f["a"])(d,r,o,!1,null,null,null),m=h.exports,g=n("2ef0"),v=n.n(g),b=(n("5698"),{selected:{},legendUpdated:null}),_={selected:function(t){return t.selected}},O={SET_SELECTED:function(t,e){a["default"].set(t.selected,e.id,e.data)},SET_LEGEND_UPDATED:function(t,e){t.legendUpdated=e}},y={createSelected:function(t,e){var n=t.commit;t.state,t.rootState;console.log("obj",e),n("SET_SELECTED",e),n("SET_LEGEND_UPDATED",e.id)}},D={namespaced:!0,state:b,getters:_,actions:y,mutations:O},E=(n("a9e3"),n("ddb0"),n("96cf"),n("1da1")),j=n("5698"),k={appData:{json:{},geojson:{},grouped:{},filtered:{}},dataLoaded:!1},A={dataLoaded:function(t){return t.dataLoaded}},T={SET_JSON_DATA:function(t,e){a["default"].set(t.appData.json,e.id,e.data)},SET_GEOJSON_DATA:function(t,e){a["default"].set(t.appData.geojson,e.id,e.data)},SET_GROUP_DATA:function(t,e){a["default"].set(t.appData.grouped,e.id,e.data)},SET_FILTERED_DATA:function(t,e){a["default"].set(t.appData.filtered,e.id,e.data)},dataLoaded:function(t,e){t.dataLoaded=e}},L={loadData:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit,a=e.dispatch,t.t0=n.dataInput,t.next="csv"===t.t0?4:"arcgis"===t.t0?11:14;break;case 4:return t.next=6,a("loadCSVData",n);case 6:return t.next=8,a("formatData",n);case 8:return t.next=10,a("icons/createIconObj",n.id,{root:!0});case 10:return t.abrupt("break",15);case 11:return t.next=13,a("arcgis/loadArcData",n,{root:!0});case 13:return t.abrupt("break",15);case 14:return t.abrupt("break",15);case 15:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),formatData:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit,a=e.dispatch,t.t0=n.options.dataOutput,t.next="geojson"===t.t0?4:7;break;case 4:return t.next=6,a("createGeojson",n);case 6:return t.abrupt("break",8);case 7:return t.abrupt("break",8);case 8:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),loadCSVData:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,e.dispatch,t.next=3,j.csv(n.options.url).then(function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("SET_JSON_DATA",{id:n.id,data:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),createGeojson:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,o,i,s,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=e.commit,r=e.state,e.rootState,o=e.dispatch,n.data=r.appData.json[n.id],i=[],s=0;s<n.data.length;s++)c=Number(n.data[s][n.options.lat]),u=Number(n.data[s][n.options.lng]),i[s]={type:"Feature",geometry:{type:"Point",coordinates:[u,c]},properties:n.data[s]};a("SET_GEOJSON_DATA",{id:n.id,data:i}),n.data=i,o("groupData",n);case 7:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),groupData:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,e.state,r=e.rootState,console.log("group",n),n.style.subProp?(console.log("OBJ",n),i=j.nest().key((function(t){return t.properties[n.style.prop]})).key((function(t){return t.properties[n.style.subProp]})).entries(n.data),s={},i.forEach((function(t){s[t.key]={},t.values.forEach((function(e){s[t.key][e.key]=e.values}))})),n.data=s,a("SET_GROUP_DATA",{id:n.id,data:s})):(o=r.config.data[n.id].style.prop,a("SET_GROUP_DATA",{id:n.id,data:v.a.groupBy(n.data,(function(t){return v.a.get(t.properties,o)}))}));case 3:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),groupFilteredData:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,e.state,r=e.rootState,r.config.data[n.id].style.subProp?(console.log("subprop"),i=j.nest().key((function(t){return t.properties[r.config.data[n.id].style.prop]})).key((function(t){return t.properties[r.config.data[n.id].style.subProp]})).entries(n.data),s={},i.forEach((function(t){s[t.key]={},t.values.forEach((function(e){s[t.key][e.key]=e.values}))})),n.data=s,a("SET_FILTERED_DATA",{id:n.id,data:s})):(console.log("Simple"),o=r.config.data[n.id].style.prop,a("SET_FILTERED_DATA",{id:n.id,data:v.a.groupBy(n.data,(function(t){return v.a.get(t.properties,o)}))}));case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},C={namespaced:!0,state:k,getters:A,actions:L,mutations:T},S=(n("d81d"),{map:null}),P={SET_MAP:function(t,e){t.map=e}},x={},w={namespaced:!0,state:S,actions:x,mutations:P},M=(n("7db0"),n("5698"),{iconObj:{}}),I={dataLoaded:function(t){return t.dataLoaded}},R={SET_ICON_OBJ:function(t,e){a["default"].set(t.iconObj,e.id,e.data)}},F={createIconObj:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,r=e.rootState,e.dispatch,o={},r.config.data[n].style.subProp?(r.config.data[n].style.styleObj.forEach((function(t){o[t.value]=t})),o.DEFAULT={value:"DEFAULT",color:"red",icon:"image-off-outline",size:"32px"},s={id:n,data:o},a("SET_ICON_OBJ",s)):(Object.keys(r.dataLoader.appData.grouped[n]).forEach((function(t,e){r.config.data[n].style.styleObj.find((function(e){return e.value===t}))&&(o[t]=Object(i["a"])({},r.config.data[n].style.styleObj[e]))})),o.DEFAULT={value:"DEFAULT",color:"red",icon:"image-off-outline",size:"32px"},c={id:n,data:o},a("SET_ICON_OBJ",c));case 3:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),createArcIconObj:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,r=e.rootState,e.dispatch,o={},Object.keys(r.dataLoader.appData.grouped[n]).forEach((function(t,e){o[t]=Object(i["a"])({},r.dataLoader.appData.grouped[n][t][0].properties.arcIcon)})),o.DEFAULT={value:"DEFAULT",color:"red",icon:"image-off-outline",size:"32px"},s={id:n,data:o},a("SET_ICON_OBJ",s);case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},U={namespaced:!0,state:M,getters:I,actions:F,mutations:R},B=(n("4de4"),n("5a0c")),N=n.n(B),G={dateRange:[],dataUpdated:!1},V={dataUpdated:function(t){return t.dataUpdated}},H={SET_DATE_RANGE:function(t,e){t.dateRange=e},SET_TIMESLIDER_DATA:function(t,e){t.timesliderData=e},UPDATE_DATA:function(t,e){t.dataUpdated=e}},$={filterData:function(t){for(var e=t.commit,n=t.rootState,a=t.dispatch,r=n.config.timeslider,o=function(t){var e=n.dataLoader.appData.geojson[r.data[t]].filter((function(e){var n=new Date(N()(e.properties[r.prop[t]]).format("M/D/YYYY")).getTime(),a=new Date(G.dateRange[0]).getTime(),o=new Date(G.dateRange[1]).getTime();if(n>=a&&n<=o)return e})),o={id:r.data[t],data:e};a("dataLoader/groupFilteredData",o,{root:!0})},i=0;i<r.data.length;i++)o(i);e("UPDATE_DATA",!0)}},Y={namespaced:!0,state:G,getters:V,actions:$,mutations:H},J={dialogObj:{component:null,visible:!1,template:null,data:null}},z={SET_DIALOG_OBJ:function(t,e){t.dialogObj=e}},q={namespaced:!0,state:J,mutations:z},Z=n("5698"),W={chartData:{}},Q={SET_CHART_DATA:function(t,e){a["default"].set(t.chartData,e.id,e.data)}},X={parsePieData:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=e.commit,r=Z.nest().key((function(t){return t.feature?t.feature.properties[n.prop]:t.properties[n.prop]})).rollup((function(t){return t.length})).entries(n.data),o=[],i=0;i<r.length;i++)o.push({name:r[i].key,y:r[i].value});a("SET_CHART_DATA",{id:n.id,data:o});case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),parseBarStockData:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,o,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=e.commit,r=Z.nest().key((function(t){return t.properties[n.prop]})).key((function(t){return new Date(N()(t.properties[n.dateProp]).format("M/D/YYYY")).getTime()})).rollup((function(t){return t.length})).entries(n.data),o=[],i=0;i<r.length;i++)for(o.push({name:r[i].key,data:[],date:!0,type:"column"}),s=0;s<r[i].values.length;s++)o[i].data.push([Number(r[i].values[s].key),r[i].values[s].value]);for(c=0;c<o.length;c++)o[c].data.sort((function(t,e){return t[0]-e[0]}));a("SET_CHART_DATA",{id:n.id,data:o});case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},K={namespaced:!0,state:W,mutations:Q,actions:X},tt=n("bc3a").default,et={arcDataLoaded:!1},nt={SET_ARC_LOAD_STATE:function(t,e){t.arcDataLoaded=e}},at={styleData:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,r=e.rootState,o=e.dispatch,console.log("arcObj ----\x3e",n),tt({method:"get",withCredentials:!0,url:n.options.url+"?f=pjson",responseType:"json"}).then((function(t){var e=t.data.drawingInfo.renderer.uniqueValueInfos;n.data.forEach((function(t){e.forEach((function(e){t.properties[n.style.iconProp]==e.value&&(t.properties.arcIcon={type:e.symbol.contentType,icon:e.symbol.imageData,label:e.label}),t.properties[n.style.iconProp]||(t.properties.arcIcon={type:"null",icon:"iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAA71JREFUSInVlk1sVFUUgL9z35vEkv4ZJWamxUQMLQ2a0AwLaqk/UcTojFtjt0hrFKNCAjExtiTSKDFYUBdMbTQ26sKF0WkDIhTSVqBpZ6ELWbiQhDqDuhAF3UzfPS7mvukrTv+smnhW75577/nOufecc5/Pfyz+/xaoqkkgqaoJEUkBCafPGGN6/zGgtbZXRHrCsYjMmxeRHmstIXRVQGvtMRHpKitU0Wu/oVeuQH4GNjRjGhpxEa8eKCLJEGRPncSOHkcSt6NfT6EXz+N/ci5cWgg/VnukBUfGbN+B2b4D+9U49vQIctc2ZO1a54/mVwQsFosJ3/fjLqpcqFfVjDsuAOzEGMHhV/Heeg/78RDEYvMdWwqoql1AF5CM6AAKqpoVkXQZNn6W4M0+vCODyM31yG3xsh0RyS4KdCneC6QqzQPxaLLYsTPYo6/jHR3ENK6DIEDa2suLZ2dnF47QWpsGPi/D8z9gx86gU+fh5x9hfROmbRvS1o7U1mHPjmLfPoTpfxfT2Fja5HmYpubQRCEWi1W+QxfZMUfGnhghyBzGe+oF5Nk9SFUVevUX9MI5gs5HMY93oqdGMEcGMQ0NFY9CVbuj4xsj7AXiAPb4MHZiFP/9T5H6+vICiSegZRNy/4PY/bsxO3dHYTkgA6QdLGeMyUYBZaCLLgVgZ2awH2TwBj5Camsrem7uWA8H+wme60S2tiN1dSWHRDIOWlGiwHTYlvT0SczTL0ZhOVUdBnIuWVIAZkMT+lgnOjWJPPQwRLJ5SWC0nnT8S0xffzgsAN3GmLD+sqo6HRqXtg70wgSUgBSLxUQ0SRYERkVnvoPqmjDybAQWSjcwDUBdHXr9+pzBUoNYFrBcK7KuGf74HdasmeuX82VOd/0acsutC9lfGKiq+fAOZWsHevFbpOM+KL1xybClueQqF71OTyIbN5Wdjra+RYFEI2y/F9v3CtKaRKqrAaZVddg14TRh6Vz6HvvZh/hPngi3LgqbBwyCIOP7fg+AaW5Bt7QRvNGHt/clpKYGIBV9XO3ly9iX9+LtO4jM3ffygbFYLG+tzYhIFyKYXc9g3+kn2PkEZtfzsLEFqboJvforOj2JHXgNb98hTOnYAXLRX4klgQDGmG73QiBVVXh79mO/eQQdG0WHBtCfLiF33o3c8wD+0BdIYq6dqeqBpWB/ATrZAmSBOMZgNrfC5tZFjajqgRtb2LKBLssSqppl4ecplNxKYBWBEXBaVZOu5aUo1V7BQfLA8EpASwIdNEcp1XtXavhvAf8N+RPLyH3lb97+XgAAAABJRU5ErkJggg==",label:"null"})}))}));var i=r.config.data[n.id].style.prop;a("dataLoader/SET_GROUP_DATA",{id:n.id,data:v.a.groupBy(n.data,(function(t){return v.a.get(t.properties,i)}))},{root:!0}),o("icons/createArcIconObj",n.id,{root:!0}),a("SET_ARC_LOAD_STATE",!0),console.log("FIINNNNNNALLLLLLLYYYYYYYY")})),t.next=5,a("dataLoader/SET_GEOJSON_DATA",{id:n.id,data:n.data},{root:!0});case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),loadArcData:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,a=e.dispatch,t.next=3,tt({method:"get",withCredentials:!0,url:n.options.url+"/query?where=1%3D1&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&distance=&units=esriSRUnit_Foot&relationParam=&outFields=*&returnGeometry=true&maxAllowableOffset=&geometryPrecision=&outSR=&having=&gdbVersion=&historicMoment=&returnDistinctValues=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&multipatchOption=xyFootprint&resultOffset=&resultRecordCount=&returnTrueCurves=false&returnExceededLimitFeatures=false&quantizationParameters=&returnCentroid=false&sqlFormat=none&resultType=&featureEncoding=esriDefault&f=geojson",responseType:"json"}).then((function(t){n.data=t.data.features,a("styleData",n)}));case 3:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},rt={namespaced:!0,state:et,mutations:nt,actions:at},ot=(n("a623"),n("c975"),n("5698"),{storyData:null}),it={SET_STORY_DATA:function(t,e){t.storyData=e}},st={createStoryData:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,r=e.rootState,e.dispatch,o=n.data.filter((function(t){return n.filterProps.every((function(e){return n.filterValues.indexOf(t.properties[e])>-1}))})),i=r.config.data[n.id].style.subProp,a("SET_STORY_DATA",v.a.groupBy(o,(function(t){return v.a.get(t.properties,i)})));case 4:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},ct={namespaced:!0,state:ot,actions:st,mutations:it};a["default"].use(l["a"]);var ut=new l["a"].Store({modules:{legend:D,dataLoader:C,map:w,icons:U,timeslider:Y,dialog:q,charting:K,arcgis:rt,story:ct},state:{config:config},mutations:{},actions:{}}),lt=n("ce5b"),pt=n.n(lt);n("bf40"),n("5363");a["default"].use(pt.a);var dt=new pt.a({icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#01579B",secondary:"#006064",accent:"#E65100",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},dark:{primary:"#01579B",secondary:"#006064",accent:"#E65100",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}}),ft=n("8c4f");console.log("CONFIG",config);var ht=[];config.layout.forEach((function(t){ht.push({path:"Home"===t?"/":"/".concat(t.toLowerCase()),component:function(){return n("9dac")("./".concat(t))},name:t})}));var mt=new ft["a"]({routes:ht}),gt=n("4452"),vt=n.n(gt),bt=n("ea7f"),_t=n.n(bt),Ot=n("37d8"),yt=n.n(Ot),Dt=n("e11e");n("6cc5");a["default"].use(ft["a"]),a["default"].use(vt.a),yt()(_t.a),delete Dt["Icon"].Default.prototype._getIconUrl,Dt["Icon"].Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")}),a["default"].config.productionTip=!1,new a["default"]({store:ut,vuetify:dt,router:mt,render:function(t){return t(m)}}).$mount("#app")},5726:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{dense:"",id:"popup-card-cluster",flat:"",width:"500"}},[n("v-btn",{staticClass:"prevIcon",attrs:{icon:"",dark:""},on:{click:function(e){return t.prev()}}},[n("v-icon",{attrs:{size:"24px",color:"white"}},[t._v("mdi-chevron-left")])],1),n("v-btn",{staticClass:"nextIcon",attrs:{icon:"",dark:""},on:{click:function(e){return t.next()}}},[n("v-icon",{attrs:{size:"24px",color:"white"}},[t._v("mdi-chevron-right")])],1),n("v-card-title",{staticClass:"popup-card-title"},[t._v(" "+t._s(t.children[t.index].feature.properties.Payment_Type)+" "),n("span",[t._v("("+t._s(this.index+1)+" of "+t._s(t.children.length)+")")])]),n("v-card-text",[n("p",[n("b",[t._v("Date:")]),t._v(" "+t._s(t.children[t.index].feature.properties.Transaction_date))]),n("p",[n("b",[t._v("Product:")]),t._v(" "+t._s(t.children[t.index].feature.properties.Product))]),n("p",[n("b",[t._v("Price:")]),t._v(" "+t._s(t.children[t.index].feature.properties.Price))]),n("p",[n("b",[t._v("Name:")]),t._v(" "+t._s(t.children[t.index].feature.properties.Name))]),n("p",[n("b",[t._v("Country:")]),t._v(" "+t._s(t.children[t.index].feature.properties.Country))])]),n("v-card-actions",[n("v-btn",{on:{click:function(e){return t.openClusterPie()}}},[t._v("Pie Chart")])],1)],1)},r=[],o=(n("2f62"),{name:"ClusterPopup",props:["children","vue"],data:function(){return{index:0}},methods:{prev:function(){0===this.index?this.index=this.children.length-1:this.index--},next:function(){this.index>=this.children.length-1?this.index=0:this.index++},openClusterPie:function(){this.vue.SET_DIALOG_OBJ({component:"Charts/PieChart",visible:!0,data:this.children,prop:"Product",id:"clusterPie"})}}}),i=o,s=(n("97ca"),n("2877")),c=Object(s["a"])(i,a,r,!1,null,null,null);e["default"]=c.exports},"58b1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{flat:"",color:"rgba(0,0,0,0)"}},[n("v-toolbar-title",[t._v(" "+t._s(t.options.title?t.options.title:"Title")+" ")])],1),t.legendItems&&t.groupedData?n("v-treeview",{staticClass:"legend-items",attrs:{selectable:"",dense:"",hoverable:"",items:t.legendItems},scopedSlots:t._u([{key:"prepend",fn:function(e){var a=e.item;return[n("img",{attrs:{width:"20px",height:"20px",src:t.getIcon(a)}})]}},{key:"append",fn:function(e){var a=e.item;return[n("b",[t._v(" "+t._s(-1!=Object.keys(t.groupedData).indexOf(a.name)?t.groupedData[a.name].length:0)+" ")])]}}],null,!1,4278995816),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}):t._e()],1)},r=[],o=(n("99af"),n("4160"),n("b0c0"),n("b64b"),n("159b"),n("5530")),i=n("2f62"),s={name:"Legend",components:{},props:["legendData"],data:function(){return{selected:[],legendItems:null,options:null}},computed:Object(o["a"])({},Object(i["e"])({config:function(t){return t.config},appData:function(t){return t.dataLoader.appData},iconObj:function(t){return t.icons.iconObj},groupedData:function(t){return t.dataLoader.appData.grouped.arc}}),{getItems:function(){var t=this,e=[];return Object.keys(this.appData.grouped[this.options.id]).forEach((function(n){t.options.subProp||t.selected.push(n),e.push({id:n,name:n,icon:t.options.subProp?null:n,visible:!0,children:t.options.subProp?t.getChildren(t.appData.grouped[t.options.id][n],n):[]})})),e}}),methods:Object(o["a"])({},Object(i["b"])({createSelected:"legend/createSelected"}),{getIcon:function(t){var e=this.iconObj[this.options.id][t.name];return"data:".concat(e.type,";base64, ").concat(e.icon)}}),created:function(){this.options=Object(o["a"])({},this.legendData,{},config.data[this.legendData.id].style)},mounted:function(){console.log("appData",this.appData),this.legendItems=this.getItems},watch:{selected:function(t){this.createSelected({id:this.options.id,data:t})}}},c=s,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,null,null);e["default"]=l.exports},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"5fa3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"summary",style:"background-image:url(./images/"+t.config.details.backgroundImage+")",attrs:{fluid:""}},[n("v-row",{staticClass:"summary-content",attrs:{"no-gutters":"",justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"6"}},[n("h1",[t._v(t._s(t.config.details.title))]),n("p",[t._v(t._s(t.config.details.summary))]),n("v-btn",{staticClass:"mt-10",attrs:{dark:"",color:"orange accent-4",to:t.config.Story?"/story":"/"+t.config.defaultView}},[t._v(" View Product ")])],1)],1)],1)},r=[],o=n("5530"),i=n("2f62"),s={name:"Summary",computed:Object(o["a"])({},Object(i["e"])({config:function(t){return t.config}}))},c=s,u=(n("d987"),n("2877")),l=Object(u["a"])(c,a,r,!1,null,null,null);e["default"]=l.exports},"659d":function(t,e,n){},6935:function(t,e,n){},7896:function(t,e,n){"use strict";var a=n("1329"),r=n.n(a);r.a},"78b0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"slider"}})},r=[],o=(n("0481"),n("4160"),n("d81d"),n("4069"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("2909")),i=(n("96cf"),n("1da1")),s=n("5530"),c=n("e9fa"),u=n.n(c),l=(n("c0a8"),n("5a0c")),p=n.n(l),d=n("2f62"),f=n("2ef0"),h=n.n(f),m={name:"TimeSlider",components:{noUiSlider:u.a},data:function(){return{dates:null,sliderValue:null}},computed:Object(s["a"])({},Object(d["e"])({mapData:function(t){return t.dataLoader.appData},config:function(t){return t.config}}),{getDates:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],t.config.timeslider.data.forEach((function(e,a){n.push(Object(o["a"])(new Set(t.mapData.geojson[e].map((function(e){return p()(e.properties[t.config.timeslider.prop[a]]).format("M/D/YYYY")})))));var r=h.a.uniq(n).flat();t.dates=r.sort((function(t,e){return new Date(t)-new Date(e)}))}));case 2:case"end":return e.stop()}}),e)})))()}}),methods:Object(s["a"])({},Object(d["d"])({SET_DATE_RANGE:"timeslider/SET_DATE_RANGE",UPDATE_DATA:"timeslider/UPDATE_DATA"}),{},Object(d["b"])({filterData:"timeslider/filterData"}),{initSlider:function(){var t=this;u.a.create(this.$el,{start:[0,this.dates.length-1],connect:!0,step:1,range:{min:0,max:this.dates.length-1},tooltips:[this.prettyDates(),this.prettyDates()],pips:{mode:"count",density:this.dates.length/2,values:10,stepped:!0,format:{to:function(e){return p()(t.dates[Math.floor(e)]).format("M/D/YYYY")},from:function(e){return p()(t.dates[Math.floor(e)]).format("M/D/YYYY")}}},format:{to:function(t){return Math.floor(t)},from:function(t){return Math.floor(t)}}}),this.$el.noUiSlider.on("set",(function(e,n){t.updateValues(e,n)}))},filterPips:function(t,e){return t%2===1&&t>2||0===t||t===this.dates.length-1?1:0},timestamp:function(t){return new Date(t).getTime()},prettyDates:function(t){var e=this;return{to:function(t){return p()(e.dates[Math.floor(t)]).format("M/D/YYYY")}}},updateValues:function(t,e){var n,a;1===t.length?(n=this.dates[t[0]],this.sliderValue=n):(n=this.dates[t[0]],a=this.dates[t[1]],this.sliderValue=[n,a]),this.SET_DATE_RANGE([n,a]),this.UPDATE_DATA(!1),this.filterData()}}),mounted:function(){var t=this;console.log("slider"),this.getDates.finally((function(){t.initSlider(),t.updateValues([0,t.dates.length-1])}))}},g=m,v=(n("32af"),n("2877")),b=Object(v["a"])(g,a,r,!1,null,null,null);e["default"]=b.exports},"86f6":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{attrs:{height:"50px",app:"","clipped-left":"",dark:""},scopedSlots:t._u([t.config.Story?{key:"extension",fn:function(){return[n("AppNav")]},proxy:!0}:null],null,!0)},[n("v-btn",{staticClass:"mr-3",attrs:{height:"35px",width:"35px",dark:"",fab:"",color:"blue",to:"/"}},[n("v-icon",[t._v("mdi-home")])],1),n("v-toolbar-title",[t._v(" "+t._s(t.config.details.title)+" ")])],1)},r=[],o=n("9e8b"),i=(n("2f62"),{name:"AppHeader",props:["config"],components:{AppNav:o["default"]},data:function(){return{}}}),s=i,c=n("2877"),u=Object(c["a"])(s,a,r,!1,null,null,null);e["default"]=u.exports},"88b6":function(t,e,n){"use strict";var a=n("b209"),r=n.n(a);r.a},"89db":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{dense:"",id:"popup-card",flat:"",width:"300"}},[n("v-card-title",{staticClass:"popup-card-title"},[t._v(" Event Type: "+t._s(t.feature.properties.arcIcon.label)+" ")]),n("v-card-text",[n("p",[n("b",[t._v("User:")]),t._v(" "+t._s(t.feature.properties.created_user))])])],1)},r=[],o=(n("2f62"),{name:"MapPopup",props:["feature","vue","id"],data:function(){return{}}}),i=o,s=(n("1802"),n("2877")),c=Object(s["a"])(i,a,r,!1,null,null,null);e["default"]=c.exports},9096:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"map"}},[n("LMap",{ref:"map",staticClass:"map",attrs:{minZoom:1,zoom:t.zoom,center:t.center},on:{ready:t.mapReady}},[n("LTileLayer",{attrs:{url:t.url}}),t._l(t.config.SimpleViewer.data,(function(e,a){return[t.config.data[a].style.subProp?[t._l(t.appData.grouped[a],(function(e,r){return t._l(e,(function(e,o){return n("Vue2LeafletMarkerCluster",{key:r+"_"+o,ref:"cluster_"+r+"_"+o,refInFor:!0,attrs:{options:t.stringToMethod(t.config.SimpleViewer.data[a].clusterOptions)}},[n("LGeoJson",{ref:"marker_"+r+"_"+o,refInFor:!0,attrs:{geojson:e,options:t.stringToMethod(t.config.SimpleViewer.data[a].markerOptions)}})],1)}))}))]:t._l(t.appData.grouped[a],(function(e,r){return n("Vue2LeafletMarkerCluster",{key:r,ref:"cluster_"+r,refInFor:!0,attrs:{options:t.stringToMethod(t.config.SimpleViewer.data[a].clusterOptions)}},[n("LGeoJson",{ref:"marker_"+r,refInFor:!0,attrs:{geojson:e,options:t.stringToMethod(t.config.SimpleViewer.data[a].markerOptions)}})],1)}))]}))],2)],1)},r=[],o=(n("99af"),n("4160"),n("c975"),n("d81d"),n("fb6a"),n("b64b"),n("d3b7"),n("25f0"),n("159b"),n("5530")),i=n("2b0e"),s=n("2699"),c=n("a40a"),u=n("4e2b"),l=n("044a"),p=n("ca9f"),d=n.n(p),f=(n("3ac1"),n("f480"),n("e11e")),h=n.n(f),m=n("e4cd"),g=n("5726"),v=n("89db"),b=n("2f62"),_={name:"SimpleMap",components:{LMap:s["a"],LTileLayer:c["a"],LMarker:u["a"],LGeoJson:l["a"],Vue2LeafletMarkerCluster:d.a},data:function(){return{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",zoom:3,center:[47.41322,-1.219482],bounds:null,mapLoaded:!1}},computed:Object(o["a"])({},Object(b["c"])({selectedItems:"legend/selected"}),{},Object(b["e"])({config:function(t){return t.config},appData:function(t){return t.dataLoader.appData},iconObj:function(t){return t.icons.iconObj},legend:function(t){return t.legend.selected},dataUpdated:function(t){return t.timeslider.dataUpdated},legendUpdated:function(t){return t.legend.legendUpdated}}),{clusterOptions:function(){return{maxClusterRadius:30,elementsPlacementStrategy:"original-locations",spiderfyDistanceSurplus:25,spiderfyOnMaxZoom:!1,showCoverageOnHover:!1,zoomToBoundsOnClick:!1,spiderfyDistanceMultiplier:1,iconCreateFunction:this.onEachCluster("sales")}},markerOptions:function(){return{onEachFeature:this.onEachMarker("sales")}},arcOptions:function(){return{onEachFeature:this.styleArcData("arc")}}}),methods:Object(o["a"])({},Object(b["d"])({SET_MAP:"map/SET_MAP",SET_DIALOG_OBJ:"dialog/SET_DIALOG_OBJ"}),{stringToMethod:function(t){return this[t]},mapReady:function(){this.mapLoaded=!0,this.map=this.$refs.map.mapObject,this.SET_MAP(this.map),this.map.invalidateSize()},onEachMarker:function(t){var e=this;return function(n,a){var r=e.config.data.sales.style.subProp?e.iconObj[t][n.properties[e.config.data[t].style.subProp]]:e.iconObj[t][n.properties[e.config.data[t].style.prop]],o=r||e.iconObj.DEFAULT,s=h.a.divIcon({html:'<div\n\t\t\t\t\t\t\tclass="mdi '.concat(o.icon,'"\n\t\t\t\t\t\t\tstyle="color:').concat(o.color,";\n\t\t\t\t\t\t\tfont-size: ").concat(o.size,'"\n\t\t\t\t\t\t</div>')});a.setIcon(s);var c=i["default"].extend(m["default"]),u=new c({propsData:{feature:n,vue:e}});a.on("click",(function(){a._popup||a.bindPopup(u.$mount().$el,{offset:[13,15],className:"gillipop"}).openPopup()}))}},styleArcData:function(t){var e=this;return function(n,a){var r=n.properties.arcIcon,o=h.a.divIcon({html:'<img width="20px" height="20px" src="data:'.concat(r.type,";base64, ").concat(r.icon,'" />\n\t\t\t\t\t\t')});a.setIcon(o);var s=i["default"].extend(v["default"]),c=new s({propsData:{feature:n,vue:e,id:t}});a.on("click",(function(){a._popup||a.bindPopup(c.$mount().$el,{offset:[13,15],className:"gillipop"}).openPopup()}))}},onEachCluster:function(t){var e=this;return function(n){var a=n.getAllChildMarkers(),r=e.config.data.sales.style.subProp?e.iconObj[t][a[0].feature.properties[e.config.data[t].style.subProp]]:e.iconObj[t][a[0].feature.properties[e.config.data[t].style.prop]],o=r||e.iconObj.DEFAULT,s=h.a.divIcon({html:'<div class="cluster-circle" style="background:'.concat(o.color,'";>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="marker mdi ').concat(o.icon,'"\n\t\t\t\t\t\t</div></div>')}),c=i["default"].extend(g["default"]),u=new c({propsData:{children:a,vue:e}});return n.on("click",(function(){n._popup||n.bindPopup(u.$mount().$el,{offset:[8,0],className:"gillipop-cluster"}).openPopup()})),s}},updateDataWithLegend:function(){var t=this;console.log("Legend ",this.legend),setTimeout((function(){for(var e in t.$refs)t.$refs[e].length>=1&&"map"!=e&&-1!=e.indexOf("cluster")&&t.$refs[e][0].mapObject.clearLayers();Object.keys(t.legend).forEach((function(e){for(var n in t.legend[e])t.$refs["cluster_".concat(t.legend[e][n])].length>=1&&t.$refs["cluster_".concat(t.legend[e][n])][0].mapObject.addLayers(t.$refs["marker_".concat(t.legend[e][n])][0].mapObject)}))}),1)},LightenDarkenColor:function(t,e){var n=!1;"#"==t[0]&&(t=t.slice(1),n=!0);var a=parseInt(t,16),r=(a>>16)+e;r>255?r=255:r<0&&(r=0);var o=(a>>8&255)+e;o>255?o=255:o<0&&(o=0);var i=(255&a)+e;return i>255?i=255:i<0&&(i=0),(n?"#":"")+(i|o<<8|r<<16).toString(16)}}),watch:{legend:{handler:function(){this.updateDataWithLegend()},deep:!0}}},O=_,y=(n("a652"),n("2877")),D=Object(y["a"])(O,a,r,!1,null,null,null);e["default"]=D.exports},"963a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{staticClass:"ma-0 pa-0",attrs:{height:"20px",app:"",dark:""}},[n("p",{staticClass:"footer-text"},[t._v("Footer")])])},r=[],o={name:"AppFooter"},i=o,s=(n("fbf6"),n("2877")),c=Object(s["a"])(i,a,r,!1,null,null,null);e["default"]=c.exports},"97ca":function(t,e,n){"use strict";var a=n("525e"),r=n.n(a);r.a},"9c0c":function(t,e,n){},"9dac":function(t,e,n){var a={"./ComplexViewer":["97bf","chunk-45b84698"],"./ComplexViewer.vue":["97bf","chunk-45b84698"],"./Home":["bb51","chunk-2d21a3d2"],"./Home.vue":["bb51","chunk-2d21a3d2"],"./SimpleViewer":["512d","chunk-27dc1c91"],"./SimpleViewer.vue":["512d","chunk-27dc1c91"],"./Story":["095a","chunk-2fe50832"],"./Story.vue":["095a","chunk-2fe50832"]};function r(t){if(!n.o(a,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=a[t],r=e[0];return n.e(e[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id="9dac",t.exports=r},"9e8b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tabs",{attrs:{light:"","background-color":"grey lighten-3"}},[t._l(t.getLayout,(function(e){return n("v-tab",{key:e,attrs:{to:"/"+e.toLowerCase()}},[t._v(" "+t._s(e))])})),n("v-spacer"),n("v-row",{staticClass:"mr-2",attrs:{"no-gutters":"",justify:"end",align:"center"}},[n("v-btn",{staticClass:"mx-1",attrs:{color:"blue"},on:{click:function(e){return t.openPieChart()}}},[t._v("Pie Chart")]),n("v-btn",{staticClass:"mx-1",attrs:{color:"green"},on:{click:function(e){return t.openBarChart()}}},[t._v("Bar Chart")]),n("v-btn",{staticClass:"mx-1",attrs:{color:"red"},on:{click:function(e){return t.openTest()}}},[t._v("Test")])],1)],2)},r=[],o=(n("4160"),n("159b"),n("5530")),i=n("2f62"),s={name:"AppNav",computed:Object(o["a"])({},Object(i["e"])({appData:function(t){return t.dataLoader.appData},layout:function(t){return t.config.layout}}),{getLayout:function(){var t=[];return this.layout.forEach((function(e){"Home"!==e&&t.push(e)})),t}}),methods:Object(o["a"])({},Object(i["d"])({SET_DIALOG_OBJ:"dialog/SET_DIALOG_OBJ"}),{openPieChart:function(){this.SET_DIALOG_OBJ({component:"Charts/PieChart",visible:!0,data:this.appData.geojson.sales,prop:"Payment_Type",id:"pie"})},openBarChart:function(){this.SET_DIALOG_OBJ({component:"Charts/BarChartStock",visible:!0,data:this.appData.geojson.sales,prop:"Payment_Type",dateProp:"Transaction_date",id:"bar",width:"800px"})},openTest:function(){this.SET_DIALOG_OBJ({component:"UI-Other/Test",visible:!0,text:"Hi Matt",data:this.appData.geojson.sales})}})},c=s,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,null,null);e["default"]=l.exports},"9fec":function(t,e,n){"use strict";var a=n("eed6"),r=n.n(a);r.a},a5e8:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("h1",[t._v(t._s(t.dialogObj.text))]),n("h2",[t._v(t._s(t.dialogObj.data[0].properties.Transaction_date))])])},r=[],o={name:"Test",props:["dialogObj"],mounted:function(){}},i=o,s=n("2877"),c=Object(s["a"])(i,a,r,!1,null,null,null);e["default"]=c.exports},a652:function(t,e,n){"use strict";var a=n("2b4e"),r=n.n(a);r.a},a8b5:function(t,e,n){},ab24:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("highcharts",{ref:"barChart",attrs:{id:"chart_height",options:t.chartOptions(),"constructor-type":"stockChart"}})},r=[],o=(n("d3b7"),n("5530")),i=n("2f62"),s={name:"BarChartStock",props:["dialogObj"],data:function(){return{}},computed:Object(o["a"])({},Object(i["e"])({chartData:function(t){return t.charting.chartData}})),methods:Object(o["a"])({},Object(i["b"])({parseBarStockData:"charting/parseBarStockData"}),{chartOptions:function(){return{chart:{type:this.chartData[this.dialogObj.id].type,isDirtyBox:!0},title:{text:"Bar Chart"},series:this.chartData.bar}}}),mounted:function(){this.parseBarStockData(this.dialogObj).finally((function(){}))}},c=s,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,null,null);e["default"]=l.exports},b209:function(t,e,n){},cdcf:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"map"}},[n("LMap",{ref:"map",staticClass:"map",attrs:{minZoom:1,zoom:t.zoom,center:t.center},on:{ready:t.mapReady}},[n("LTileLayer",{attrs:{url:t.url}}),t._l(t.mapData,(function(e,a){return n("Vue2LeafletMarkerCluster",{key:a,ref:"clusters_"+a,refInFor:!0,attrs:{options:t.clusterOptions}},[n("LGeoJson",{attrs:{geojson:e,options:t.markerOptions}})],1)}))],2)],1)},r=[],o=(n("99af"),n("d81d"),n("5530")),i=n("2b0e"),s=n("2699"),c=n("a40a"),u=n("4e2b"),l=n("044a"),p=n("ca9f"),d=n.n(p),f=(n("3ac1"),n("f480"),n("e11e")),h=n.n(f),m=n("e4cd"),g=n("5726"),v=n("89db"),b=n("2f62"),_={name:"Map",components:{LMap:s["a"],LTileLayer:c["a"],LMarker:u["a"],LGeoJson:l["a"],Vue2LeafletMarkerCluster:d.a},props:["mapData"],data:function(){return{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",zoom:3,center:[47.41322,-1.219482],bounds:null,mapLoaded:!1}},computed:Object(o["a"])({},Object(b["c"])({selectedItems:"legend/selected"}),{},Object(b["e"])({config:function(t){return t.config},appData:function(t){return t.dataLoader.appData},iconObj:function(t){return t.icons.iconObj},legend:function(t){return t.legend.selected},dataUpdated:function(t){return t.timeslider.dataUpdated},legendUpdated:function(t){return t.legend.legendUpdated}}),{clusterOptions:function(){return{maxClusterRadius:30,elementsPlacementStrategy:"original-locations",spiderfyDistanceSurplus:25,spiderfyOnMaxZoom:!1,showCoverageOnHover:!1,zoomToBoundsOnClick:!1,spiderfyDistanceMultiplier:1,iconCreateFunction:this.onEachCluster("sales")}},markerOptions:function(){return{onEachFeature:this.onEachMarker("sales")}},arcOptions:function(){return{onEachFeature:this.styleArcData("arc")}}}),methods:Object(o["a"])({},Object(b["d"])({SET_MAP:"map/SET_MAP",SET_DIALOG_OBJ:"dialog/SET_DIALOG_OBJ"}),{mapReady:function(){this.mapLoaded=!0,this.map=this.$refs.map.mapObject,this.SET_MAP(this.map),this.map.invalidateSize()},onEachMarker:function(t){var e=this;return function(n,a){var r=e.config.data.sales.style.subProp?e.iconObj[t][n.properties[e.config.data[t].style.subProp]]:e.iconObj[t][n.properties[e.config.data[t].style.prop]],o=r||e.iconObj.DEFAULT,s=h.a.divIcon({html:'<div\n\t\t\t\t\t\t\tclass="mdi '.concat(o.icon,'"\n\t\t\t\t\t\t\tstyle="color:').concat(o.color,";\n\t\t\t\t\t\t\tfont-size: ").concat(o.size,'"\n\t\t\t\t\t\t</div>')});a.setIcon(s);var c=i["default"].extend(m["default"]),u=new c({propsData:{feature:n,vue:e}});a.on("click",(function(){a._popup||a.bindPopup(u.$mount().$el,{offset:[13,15],className:"gillipop"}).openPopup()}))}},styleArcData:function(t){var e=this;return function(n,a){var r=n.properties.arcIcon,o=h.a.divIcon({html:'<img width="20px" height="20px" src="data:'.concat(r.type,";base64, ").concat(r.icon,'" />\n\t\t\t\t\t\t')});a.setIcon(o);var s=i["default"].extend(v["default"]),c=new s({propsData:{feature:n,vue:e,id:t}});a.on("click",(function(){a._popup||a.bindPopup(c.$mount().$el,{offset:[13,15],className:"gillipop"}).openPopup()}))}},onEachCluster:function(t){var e=this;return function(n){var a=n.getAllChildMarkers(),r=e.config.data.sales.style.subProp?e.iconObj[t][a[0].feature.properties[e.config.data[t].style.subProp]]:e.iconObj[t][a[0].feature.properties[e.config.data[t].style.prop]],o=r||e.iconObj.DEFAULT,s=h.a.divIcon({html:'<div class="cluster-circle" style="background:'.concat(o.color,'";>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="marker mdi ').concat(o.icon,'"\n\t\t\t\t\t\t</div></div>')}),c=i["default"].extend(g["default"]),u=new c({propsData:{children:a,vue:e}});return n.on("click",(function(){n._popup||n.bindPopup(u.$mount().$el,{offset:[8,0],className:"gillipop-cluster"}).openPopup()})),s}}})},O=_,y=(n("7896"),n("2877")),D=Object(y["a"])(O,a,r,!1,null,null,null);e["default"]=D.exports},d987:function(t,e,n){"use strict";var a=n("54a9"),r=n.n(a);r.a},e4cd:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{dense:"",id:"popup-card",flat:"",width:"300"}},[n("v-card-title",{staticClass:"popup-card-title"},[t._v(" "+t._s(t.feature.properties.Payment_Type)+" ")]),n("v-card-text",[n("p",[n("b",[t._v("Date:")]),t._v(" "+t._s(t.feature.properties.Transaction_date))]),n("p",[n("b",[t._v("Product:")]),t._v(" "+t._s(t.feature.properties.Product))]),n("p",[n("b",[t._v("Price:")]),t._v(" "+t._s(t.feature.properties.Price))]),n("p",[n("b",[t._v("Name:")]),t._v(" "+t._s(t.feature.properties.Name))]),n("p",[n("b",[t._v("Country:")]),t._v(" "+t._s(t.feature.properties.Country))])])],1)},r=[],o=(n("2f62"),{name:"MapPopup",props:["feature","vue","id"],data:function(){return{}}}),i=o,s=(n("9fec"),n("2877")),c=Object(s["a"])(i,a,r,!1,null,null,null);e["default"]=c.exports},eed6:function(t,e,n){},f480:function(t,e,n){"use strict";n("cb29"),n("4de4"),n("4160"),n("caad"),n("d81d"),n("2532"),n("159b"),L.MarkerClusterGroup.include({_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied.unspiderfy()}}),L.MarkerCluster.include({spiderfy:function(){var t=this._group,e=t.options;if(t._spiderfied!==this&&!t._inZoomAnimation){var n=this.getAllChildMarkers(),a=t._map,r=a.latLngToLayerPoint(this._latlng),o=[];if(t.getLayers()[0]instanceof L.CircleMarker||(r.y+=10),e.spiderfiedClassName)for(var i in n){var s=n[i];if(s.getIcon){var c=s.getIcon();c&&(c.options.className?c.options.className.includes(e.spiderfiedClassName)||(c.options.className+=" "+e.spiderfiedClassName):c.options.className=e.spiderfiedClassName)}else if(n[i].setStyle){var u=n[i].options.className;n[i].setStyle({className:u+" "+e.spiderfiedClassName})}}switch(t._unspiderfy(),t._spiderfied=this,this._clockHelpingGeometries=[],e.elementsPlacementStrategy){case"default":o=n.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(n.length,r):this._generatePointsCircle(n.length,r);break;case"spiral":o=this._generatePointsSpiral(n.length,r);break;case"one-circle":o=this._generatePointsCircle(n.length,r);break;case"concentric":o=this._generatePointsConcentricCircles(n.length,r);break;case"clock":o=this._generatePointsClocksCircles(n.length,r,!1);break;case"clock-concentric":o=this._generatePointsClocksCircles(n.length,r,!0);break;case"original-locations":o=this._getOriginalLocations(n,t._map);break;default:}this._animationSpiderfy(n,o)}},unspiderfy:function(t){this._removeClockHelpingCircles(),this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,a,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),o=r/this._2PI,i=this._2PI/t,s=[];for(s.length=t,n=t-1;n>=0;n--)a=this._circleStartAngle+n*i,s[n]=new L.Point(e.x+o*Math.cos(a),e.y+o*Math.sin(a))._round();return s},_generatePointsSpiral:function(t,e){var n,a=this._group.options.spiderfyDistanceMultiplier,r=a*this._spiralFootSeparation,o=a*this._spiralLengthFactor*this._2PI,i=[],s=0,c=a*this._spiralLengthStart;for(i.length=t,n=t-1;n>=0;n--)s+=r/c+5e-4*n,i[n]=new L.Point(e.x+c*Math.cos(s),e.y+c*Math.sin(s))._round(),c+=o/s;return i},_regularPolygonVertexPlacement:function(t,e,n,a){var r=this._2PI/e,o=r*t;return 2!==e&&(o-=1.6),new L.Point(n.x+Math.cos(o)*a,n.y+Math.sin(o)*a)._round()},_generatePointsClocksCircles:function(t,e,n){var a=[],r=this._group.options,o=r.firstCircleElements,i=1.5*this._circleFootSeparation,s=r.spiderfyDistanceMultiplier,c=r.spiderfyDistanceSurplus,u=r.elementsMultiplier,l=1,p=o,d=i,f=0;this._createHelpingCircle(e,d);for(var h=1;h<=t;h++){var m=h-f;m>p&&(l+=1,f+=p,m=h-f,p=Math.floor(p*u),d=(c+d)*s,this._createHelpingCircle(e,d)),a[h-1]=n&&1===l?this._regularPolygonVertexPlacement(m-1,Math.min(o,t),e,d):this._regularPolygonVertexPlacement(m-1,p,e,d)}return a},_createHelpingCircle:function(t,e){var n=this._group,a=n.options;if(a.helpingCircles){var r={radius:e};a.clockHelpingCircleOptions.fill||(a.clockHelpingCircleOptions.fillColor="none"),L.extend(r,a.clockHelpingCircleOptions);var o=new L.CircleMarker(n._map.layerPointToLatLng(t),r);n._featureGroup.addLayer(o),this._clockHelpingGeometries.push(o)}},_generatePointsConcentricCircles:function(t,e){var n=this,a=this._group.options,r=[],o=a.firstCircleElements,i=1.5*this._circleFootSeparation,s=a.spiderfyDistanceMultiplier,c=a.elementsMultiplier,u=a.spiderfyDistanceSurplus,l=Math.round(o*c),p=[{distance:i,noElements:0},{distance:(u+i)*s,noElements:0},{distance:(2*u+i)*s*s,noElements:0},{distance:(3*u+i)*s*s*s,noElements:0}];t>o&&(p[1].noElements=l,(o<t&&t<2*o||o+l<t&&t<2*o+l)&&(p[1].noElements=o)),t>o+Math.round(o*c)&&(p[2].noElements=Math.round(o*c)),t>o+2*Math.round(o*c)&&(p[2].noElements=Math.round(o*c*c)),t>o+Math.round(o*c)+Math.round(o*c*c)&&(p[2].noElements=Math.round(o*c)),t>o+2*Math.round(o*c)+Math.round(o*c*c)&&(p[2].noElements=Math.round(o*c*c)),p[0].noElements=Math.min(t-p[1].noElements-p[2].noElements,o),p[3].noElements=Math.max(t-p[0].noElements-p[1].noElements-p[2].noElements,0);for(var d=0,f=p[0],h=1;h<=t;h++)p[1].noElements>0&&(h>p[0].noElements&&(f=p[1],d=p[0].noElements),h>p[0].noElements+p[1].noElements&&p[2].noElements>0&&(f=p[2],d=p[0].noElements+p[1].noElements),h>p[0].noElements+p[1].noElements+p[2].noElements&&p[3].noElements>0&&(f=p[3],d=p[0].noElements-p[1].noElements-p[2].noElements)),r[h-1]=this._regularPolygonVertexPlacement(h-d,f.noElements,e,f.distance);return p.filter((function(t){return t.noElements})).map((function(t){return n._createHelpingCircle(e,t.distance)})),r},_removeClockHelpingCircles:function(t){if(this._group.options.helpingCircles)for(var e in this._clockHelpingGeometries){var n=this._group._featureGroup;n.removeLayer(this._clockHelpingGeometries[e])}},_getOriginalLocations:function(t,e){var n=[];return t.forEach((function(t){n.push(e.latLngToLayerPoint(t.getLatLng()))})),n}}),L.MarkerClusterGroup.include({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,spiderfiedClassName:!1,removeOutsideVisibleBounds:!0,elementsPlacementStrategy:"clock-concentric",firstCircleElements:10,elementsMultiplier:1.5,spiderfyDistanceSurplus:30,helpingCircles:!0,clockHelpingCircleOptions:{color:"grey",dashArray:5,fillOpacity:0,opacity:.5,weight:3},animate:!1,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}}})},fbf6:function(t,e,n){"use strict";var a=n("a8b5"),r=n.n(a);r.a},fc8f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{flat:"",color:"rgba(0,0,0,0)"}},[n("v-toolbar-title",[t._v(" "+t._s(t.options.title?t.options.title:"Title")+" ")])],1),t.legendItems&&t.appData.grouped[t.options.id]?n("v-treeview",{staticClass:"legend-items",attrs:{selectable:"",dense:"",hoverable:"","open-on-click":"",items:t.legendItems},scopedSlots:t._u([{key:"prepend",fn:function(e){var a=e.item;return[a.icon?n("v-icon",{attrs:{color:t.getColor(a)}},[t._v(t._s(t.getIcon(a)))]):t._e()]}}],null,!1,2747670328),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}):t._e()],1)},r=[],o=(n("99af"),n("4160"),n("b64b"),n("159b"),n("5530")),i=n("2f62"),s={name:"Legend",components:{},props:["legendData"],data:function(){return{selected:[],legendItems:null,options:null}},computed:Object(o["a"])({},Object(i["e"])({config:function(t){return t.config},appData:function(t){return t.dataLoader.appData},iconObj:function(t){return t.icons.iconObj}}),{getItems:function(){var t=this,e=[];return console.log("LEGEND DATA",this.appData.grouped[this.options.id]),Object.keys(this.appData.grouped[this.options.id]).forEach((function(n){t.options.subProp||t.selected.push(n),e.push({id:n,name:n,icon:t.options.subProp?null:n,visible:!0,children:t.options.subProp?t.getChildren(t.appData.grouped[t.options.id][n],n):[]})})),e}}),methods:Object(o["a"])({},Object(i["b"])({createSelected:"legend/createSelected"}),{getChildren:function(t,e){var n=this,a=[];return Object.keys(t).forEach((function(t){n.selected.push("".concat(e,"_").concat(t)),a.push({id:"".concat(e,"_").concat(t),name:t,icon:t})})),a},getIcon:function(t){var e=this.iconObj[this.options.id][t.icon],n=e?e.icon:this.iconObj[this.options.id].DEFAULT.icon;return n},getColor:function(t){var e=this.iconObj[this.options.id][t.icon],n=e?e.color:this.iconObj[this.options.id].DEFAULT.color;return n}}),created:function(){this.options=Object(o["a"])({},this.legendData,{},config.data[this.legendData.id].style)},mounted:function(){this.legendItems=this.getItems},watch:{selected:function(t){this.createSelected({id:this.options.id,data:t})}}},c=s,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,null,null);e["default"]=l.exports}});
//# sourceMappingURL=app.04ae7b2e.js.map